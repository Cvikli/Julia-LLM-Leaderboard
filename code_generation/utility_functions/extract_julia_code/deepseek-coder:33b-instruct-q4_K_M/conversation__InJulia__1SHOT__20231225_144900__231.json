[{"content":"Act as a helpful AI assistant","variables":[],"_type":"systemmessage"},{"content":"In Julia, You are provided a markdown document `md` with julia language code blocks. Write a function `extract_julia_code` that extracts all the code blocks, removes code fences and joins the code blocks (if there are multiple) together with a newline. Return a String. Do not provide any examples.","variables":[],"_type":"usermessage"},{"content":"```julia\nfunction extract_julia_code(md::String)\n    lines = split(md, \"\\n\")\n    codeblocks = String[]\n    inblock = false\n    for line in lines\n        if startswith(line, \"```julia\")\n            inblock = true\n        elseif endswith(line, \"```\") && inblock\n            inblock = false\n            push_string_element(codeblocks, \"\\n\")\n        elseif inblock\n            push_string_element(codeblocks, line * \"\\n\")\n        end\n    end\n    return join(codeblocks)\nend\n\nfunction push_string_element(arr::Vector{String}, str::String)\n    if isempty(arr) || endswith(last(arr), \"\\n\")\n        push_string_element(arr, str[1:end-1])  # remove trailing \\n\n    elseif length(arr) > 0 && arr[end][end] == '\\n'\n        arr[end] *= str\n    else\n        push_string_element(arr, str[1:end-1])  # remove trailing \\n\n    end\nend\n```","status":200,"tokens":[90,273],"elapsed":45.432868,"_type":"aimessage"}]