[{"content":"Act as a helpful AI assistant","variables":[],"_type":"systemmessage"},{"content":"You are provided a markdown document `md` with julia language code blocks. Write a function `extract_julia_code` that extracts all the code blocks, removes code fences and joins the code blocks (if there are multiple) together with a newline. Return a String. Do not provide any examples.","variables":[],"_type":"usermessage"},{"content":"```\nusing Markdown\n\nfunction extract_julia_code(md::String)\n    code = \"\"\n    for line in split(md, \"\\n\")\n        if startswith(line, \"#'\") || endswith(line, \"^#\")\n            next # Skip the first and last lines of a code block\n        elseif endsWith(line, \"`{\") && startsWith(next_line(), \"|\")\n            line = strip(line)\n            line = join([line; \"\\n\"], \"\")\n            pushfirst!(code, line)\n            next_line() = next_line() ^ # Move to the next line of code\n        elseif endsWith(line, \"`}\") && startsWith(next_line(), \"|\")\n            line = strip(line)\n            line = join([line; \"\\n\"], \"\")\n            pushlast!(code, line)\n            next_line() = next_line() ^ # Move to the next line of code\n        elseif startsWith(line, \"#\")\n            next # Skip header lines\n        else\n            code = join([code; line], \"\\n\")\n        end\n    end\n    return code\nend\n```","status":200,"tokens":[85,266],"elapsed":10.643957375,"_type":"aimessage"}]